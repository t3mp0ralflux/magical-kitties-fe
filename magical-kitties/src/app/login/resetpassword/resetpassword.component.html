<form
    *ngIf="showForm"
    [formGroup]="formGroup"
    class="flex flex-col"
    onsubmit="submit()"
>
    <mat-form-field ngClass="{{ formGroup.controls['password'].errors ? 'mb-2' : '' }}">
        <mat-label>Password</mat-label>
        <input
            matInput
            formControlName="password"
            [type]="hidePassword ? 'password' : 'text'"
        />
        <mat-icon
            matSuffix
            (click)="hidePassword = !hidePassword"
            >{{ hidePassword ? "visibility_off" : "visibility" }}</mat-icon
        >
        @if (formGroup.controls["password"].hasError('required')){
        <mat-error>Password is required</mat-error>
        } @if (formGroup.controls["password"].hasError('pattern')){
        <mat-error>Password does not match criteria</mat-error>
        }
    </mat-form-field>
    <mat-form-field ngClass="{{ formGroup.controls['passwordReEnter'].errors ? 'mb-2' : '' }}">
        <mat-label>Re-Enter Password</mat-label>
        <input
            matInput
            formControlName="passwordReEnter"
            [type]="hideResetPassword ? 'password' : 'text'"
        />
        <mat-icon
            matSuffix
            (click)="hideResetPassword = !hideResetPassword"
            >{{ hideResetPassword ? "visibility_off" : "visibility" }}</mat-icon
        >
        @if (formGroup.controls["passwordReEnter"].hasError('required')){
        <mat-error>Password Re-Enter is required</mat-error>
        } @if (formGroup.controls["passwordReEnter"].hasError('pattern')){
        <mat-error>Password does not match criteria</mat-error>
        } @if (formGroup.controls["passwordReEnter"].hasError('confirmedValidator')){
        <mat-error>Passwords do not match</mat-error>
        }
    </mat-form-field>
    <div
        id="passwordGuidelines"
        class="mb-5"
    >
        <span>Passwords must have:</span>
        <ul>
            <li>At least 8 characters</li>
            <li>At least one uppercase letter</li>
            <li>At least one lowercase letter</li>
            <li>At least one number</li>
            <li>At least one special character</li>
        </ul>
    </div>
    <button
        mat-raised-button
        type="submit"
    >
        Reset Password
    </button>
</form>
<div *ngIf="resetSuccess">
    Your password has been reset. Please login
    <a
        class="font-medium hover:underline"
        routerLink="login"
        routerLinkActive="router-link-active"
        >here</a
    >
</div>
