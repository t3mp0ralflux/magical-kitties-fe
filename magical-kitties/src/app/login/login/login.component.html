<div
    class="flex flex-col max-w-72"
    [formGroup]="formGroup"
>
    <mat-form-field class="mb-5">
        <mat-label>Email or Username</mat-label>
        <input
            matInput
            formControlName="email"
        />
        @if (formGroup.controls["email"].hasError("required")) {
            <mat-error>Email is required</mat-error>
        }
    </mat-form-field>
    <mat-form-field class="mb-5">
        <mat-label>Password</mat-label>
        <input
            matInput
            formControlName="password"
            [type]="hidePassword ? 'password' : 'text'"
        />
        <mat-icon
            matSuffix
            (click)="hidePassword = !hidePassword"
            >{{ hidePassword ? "visibility_off" : "visibility" }}</mat-icon
        >
        <mat-hint>
            <a
                class="font-medium hover:underline"
                routerLink="forgot-password"
                routerLinkActive="router-link-active"
                >Forgot password?
            </a>
        </mat-hint>
    </mat-form-field>
    @if (loginError) {
        <span class="error mb-5">Email, username, or password is incorrect. Please check and try again or click 'Forgot password' to reset your password.</span>
    }
    @if (accountError) {
        <span class="error mb-5">{{ accountErrorMessage }}.</span>
    }
    <button
        mat-raised-button
        type="submit"
        disabled="{{ formGroup.invalid || formSubmitting }}"
        (click)="login()"
    >
        @if (formSubmitting) {
            <mat-spinner [diameter]="20"></mat-spinner>
        } @else {
            Login
        }
    </button>
    <span class="mt-5"
        >Need an account?
        <a
            class="font-medium text-blue-600 dark:text-blue-500 hover:underline"
            routerLink="/register"
            routerLinkActive="router-link-active"
            >Register here.</a
        >
    </span>
</div>
<!-- <div class="mt-5 mb-5">
            <mat-divider></mat-divider>
          </div>
          <div>
            <app-google></app-google>
          </div> -->
